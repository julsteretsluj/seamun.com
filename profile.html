<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SEAMUN I Profile</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="assets/seamun-logo-light.png" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="theme-bar">
      <div class="container theme-bar-inner">
        <button class="theme-toggle" type="button" data-theme-toggle>
          ğŸŒ™ Dark mode
        </button>
        <label class="language-selector" aria-label="Language selector">
          <span aria-hidden="true">ğŸŒ</span>
          <span data-i18n="language_label">Language</span>
          <select id="language-select">
            <option value="en">English</option>
            <option value="th">à¹„à¸—à¸¢</option>
            <option value="zh">ä¸­æ–‡</option>
            <option value="ja">æ—¥æœ¬èª</option>
            <option value="es">EspaÃ±ol</option>
            <option value="fr">FranÃ§ais</option>
            <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            <option value="ko">í•œêµ­ì–´</option>
          </select>
        </label>
        <div class="theme-selector" aria-label="Theme selector">
          <span>ğŸ¨ <span data-i18n="theme_label">Theme</span></span>
          <button class="theme-dot theme-red" type="button" data-theme="red" aria-label="Red theme"></button>
          <button class="theme-dot theme-orange" type="button" data-theme="orange" aria-label="Orange theme"></button>
          <button class="theme-dot theme-yellow" type="button" data-theme="yellow" aria-label="Yellow theme"></button>
          <button class="theme-dot theme-green" type="button" data-theme="green" aria-label="Green theme"></button>
          <button class="theme-dot theme-blue" type="button" data-theme="blue" aria-label="Blue theme"></button>
          <button class="theme-dot theme-purple" type="button" data-theme="purple" aria-label="Purple theme"></button>
          <button class="theme-dot theme-pink" type="button" data-theme="pink" aria-label="Pink theme"></button>
          <button class="theme-dot theme-grey" type="button" data-theme="grey" aria-label="Grey theme"></button>
          <button class="theme-dot theme-mono" type="button" data-theme="mono" aria-label="Monochrome theme"></button>
        </div>
      </div>
    </div>
    <header class="site-header">
      <div class="container header-inner">
        <div class="logo">
          <img
            class="logo-image"
            src="assets/seamun-logo-light.png"
            alt="SEAMUN I logo"
          />
          <div class="logo-text">
            <strong>SEAMUN I</strong>
            <span>Policies with a Purpose</span>
          </div>
        </div>
        <nav class="nav">
          <a href="index.html" data-i18n="nav_home">ğŸ›ï¸ Home</a>
          <a href="index.html#committees" data-i18n="nav_committees">ğŸ§¾ Committees</a>
          <details class="nav-more">
            <summary data-i18n="nav_more">â˜° More</summary>
            <div class="nav-more-menu">
              <a href="index.html#forms" data-i18n="nav_forms">ğŸ“ Forms</a>
              <a href="index.html#awards" data-i18n="nav_awards">ğŸ† Awards</a>
              <a href="index.html#schedule" data-i18n="nav_schedule">ğŸ—“ï¸ Schedule</a>
              <a href="index.html#signin" data-i18n="nav_signin">ğŸ” Sign in</a>
              <a href="profile.html" data-i18n="nav_profile">ğŸ‘¤ Profile</a>
              <a href="index.html#contact" data-i18n="nav_contact">ğŸ“¬ Contact</a>
            </div>
          </details>
          <span class="nav-status" id="nav-auth-status">Signed out</span>
        </nav>
      </div>
    </header>

    <main>
      <section class="section">
        <div class="container">
          <div class="section-header">
            <h2 data-i18n="profile_title">ğŸ‘¤ Profile</h2>
            <p data-i18n="profile_subtitle">View your signed-in account details.</p>
          </div>
          <div class="signin-card">
            <div class="signin-status">
              <span id="profile-status">Not signed in.</span>
              <button
                class="btn btn-ghost"
                id="profile-signout"
                type="button"
                disabled
                data-i18n="button_sign_out"
              >
                Sign out
              </button>
            </div>
            <div class="profile-details">
              <div>
                <span class="meta-label" data-i18n="label_first_name">First name</span>
                <span class="meta-value" id="profile-first-name">-</span>
              </div>
              <div>
                <span class="meta-label" data-i18n="label_pronouns">Pronouns</span>
                <span class="meta-value" id="profile-pronouns">-</span>
              </div>
              <div>
                <span class="meta-label" data-i18n="label_school">School</span>
                <span class="meta-value" id="profile-school">-</span>
              </div>
              <div>
                <span class="meta-label" data-i18n="label_email">Email</span>
                <span class="meta-value" id="profile-email">-</span>
              </div>
              <div>
                <span class="meta-label" data-i18n="label_user_id">User ID</span>
                <span class="meta-value" id="profile-uid">-</span>
              </div>
              <div>
                <span class="meta-label" data-i18n="label_points">Points</span>
                <span class="meta-value" id="profile-points">0</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>
          <strong data-i18n="footer_title">SEAMUN I Conference</strong>
          <span data-i18n="footer_tagline">Policies with a Purpose</span>
        </div>
        <div data-i18n="footer_org">SEAMUN | South East Asia Model United Nations</div>
      </div>
    </footer>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
        signOut,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
      import {
        getFirestore,
        doc,
        onSnapshot,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCnPseFI_jpXAXEK4j2gHy0lY9ss1uS48E",
        authDomain: "seamuncom.firebaseapp.com",
        projectId: "seamuncom",
        storageBucket: "seamuncom.firebasestorage.app",
        messagingSenderId: "853258490125",
        appId: "1:853258490125:web:77cbf756396fe715c06044",
        measurementId: "G-TWYYBVL0NY",
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);

      const languageSelect = document.getElementById("language-select");
      const translations = {
        en: {
          language_label: "Language",
          theme_label: "Theme",
          nav_home: "ğŸ›ï¸ Home",
          nav_committees: "ğŸ§¾ Committees",
          nav_more: "â˜° More",
          nav_forms: "ğŸ“ Forms",
          nav_awards: "ğŸ† Awards",
          nav_schedule: "ğŸ—“ï¸ Schedule",
          nav_signin: "ğŸ” Sign in",
          nav_profile: "ğŸ‘¤ Profile",
          nav_contact: "ğŸ“¬ Contact",
          nav_signed_out: "Signed out",
          profile_title: "ğŸ‘¤ Profile",
          profile_subtitle: "View your signed-in account details.",
          button_sign_out: "Sign out",
          label_first_name: "First name",
          label_pronouns: "Pronouns",
          label_school: "School",
          label_email: "Email",
          label_user_id: "User ID",
          label_points: "Points",
          signed_in: "Signed in",
          not_signed_in: "Not signed in.",
          nav_status_points: "{name} Â· {points} pts",
          light_mode: "â˜€ï¸ Light mode",
          dark_mode: "ğŸŒ™ Dark mode",
          footer_title: "SEAMUN I Conference",
          footer_tagline: "Policies with a Purpose",
          footer_org: "SEAMUN | South East Asia Model United Nations",
        },
        th: {
          language_label: "à¸ à¸²à¸©à¸²",
          theme_label: "à¸˜à¸µà¸¡",
          nav_home: "ğŸ›ï¸ à¸«à¸™à¹‰à¸²à¹à¸£à¸",
          nav_committees: "ğŸ§¾ à¸„à¸“à¸°à¸à¸£à¸£à¸¡à¸à¸²à¸£",
          nav_more: "â˜° à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡",
          nav_forms: "ğŸ“ à¸Ÿà¸­à¸£à¹Œà¸¡",
          nav_awards: "ğŸ† à¸£à¸²à¸‡à¸§à¸±à¸¥",
          nav_schedule: "ğŸ—“ï¸ à¸à¸³à¸«à¸™à¸”à¸à¸²à¸£",
          nav_signin: "ğŸ” à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š",
          nav_profile: "ğŸ‘¤ à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ",
          nav_contact: "ğŸ“¬ à¸•à¸´à¸”à¸•à¹ˆà¸­",
          nav_signed_out: "à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š",
          profile_title: "ğŸ‘¤ à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ",
          profile_subtitle: "à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸šà¸±à¸à¸Šà¸µà¸—à¸µà¹ˆà¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‚à¸­à¸‡à¸„à¸¸à¸“",
          button_sign_out: "à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š",
          label_first_name: "à¸Šà¸·à¹ˆà¸­",
          label_pronouns: "à¸ªà¸£à¸£à¸à¸™à¸²à¸¡",
          label_school: "à¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™",
          label_email: "à¸­à¸µà¹€à¸¡à¸¥",
          label_user_id: "à¸£à¸«à¸±à¸ªà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰",
          label_points: "à¸„à¸°à¹à¸™à¸™",
          signed_in: "à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¹à¸¥à¹‰à¸§",
          not_signed_in: "à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰",
          nav_status_points: "{name} Â· {points} à¸„à¸°à¹à¸™à¸™",
          light_mode: "â˜€ï¸ à¹‚à¸«à¸¡à¸”à¸ªà¸§à¹ˆà¸²à¸‡",
          dark_mode: "ğŸŒ™ à¹‚à¸«à¸¡à¸”à¸¡à¸·à¸”",
          footer_title: "à¸à¸²à¸£à¸›à¸£à¸°à¸Šà¸¸à¸¡ SEAMUN I",
          footer_tagline: "à¸™à¹‚à¸¢à¸šà¸²à¸¢à¸—à¸µà¹ˆà¸¡à¸µà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢",
          footer_org: "SEAMUN | à¹‚à¸¡à¹€à¸”à¸¥à¸ªà¸«à¸›à¸£à¸°à¸Šà¸²à¸Šà¸²à¸•à¸´à¹€à¸­à¹€à¸Šà¸µà¸¢à¸•à¸°à¸§à¸±à¸™à¸­à¸­à¸à¹€à¸‰à¸µà¸¢à¸‡à¹ƒà¸•à¹‰",
        },
        zh: {
          language_label: "è¯­è¨€",
          theme_label: "ä¸»é¢˜",
          nav_home: "ğŸ›ï¸ é¦–é¡µ",
          nav_committees: "ğŸ§¾ å§”å‘˜ä¼š",
          nav_more: "â˜° æ›´å¤š",
          nav_forms: "ğŸ“ è¡¨æ ¼",
          nav_awards: "ğŸ† å¥–é¡¹",
          nav_schedule: "ğŸ—“ï¸ æ—¥ç¨‹",
          nav_signin: "ğŸ” ç™»å½•",
          nav_profile: "ğŸ‘¤ ä¸ªäººèµ„æ–™",
          nav_contact: "ğŸ“¬ è”ç³»",
          nav_signed_out: "å·²é€€å‡º",
          profile_title: "ğŸ‘¤ ä¸ªäººèµ„æ–™",
          profile_subtitle: "æŸ¥çœ‹å·²ç™»å½•è´¦æˆ·è¯¦æƒ…ã€‚",
          button_sign_out: "é€€å‡ºç™»å½•",
          label_first_name: "å",
          label_pronouns: "ä»£è¯",
          label_school: "å­¦æ ¡",
          label_email: "é‚®ç®±",
          label_user_id: "ç”¨æˆ·ID",
          label_points: "ç§¯åˆ†",
          signed_in: "å·²ç™»å½•",
          not_signed_in: "æœªç™»å½•ã€‚",
          nav_status_points: "{name} Â· {points} åˆ†",
          light_mode: "â˜€ï¸ æµ…è‰²æ¨¡å¼",
          dark_mode: "ğŸŒ™ æ·±è‰²æ¨¡å¼",
          footer_title: "SEAMUN I ä¼šè®®",
          footer_tagline: "å®—æ—¨æ˜ç¡®çš„æ”¿ç­–",
          footer_org: "SEAMUN | ä¸œå—äºšæ¨¡æ‹Ÿè”åˆå›½",
        },
        ja: {
          language_label: "è¨€èª",
          theme_label: "ãƒ†ãƒ¼ãƒ",
          nav_home: "ğŸ›ï¸ ãƒ›ãƒ¼ãƒ ",
          nav_committees: "ğŸ§¾ å§”å“¡ä¼š",
          nav_more: "â˜° ã‚‚ã£ã¨è¦‹ã‚‹",
          nav_forms: "ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ ",
          nav_awards: "ğŸ† è¡¨å½°",
          nav_schedule: "ğŸ—“ï¸ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«",
          nav_signin: "ğŸ” ã‚µã‚¤ãƒ³ã‚¤ãƒ³",
          nav_profile: "ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«",
          nav_contact: "ğŸ“¬ é€£çµ¡å…ˆ",
          nav_signed_out: "ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆä¸­",
          profile_title: "ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«",
          profile_subtitle: "ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è©³ç´°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚",
          button_sign_out: "ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆ",
          label_first_name: "å",
          label_pronouns: "ä»£åè©",
          label_school: "å­¦æ ¡",
          label_email: "ãƒ¡ãƒ¼ãƒ«",
          label_user_id: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID",
          label_points: "ãƒã‚¤ãƒ³ãƒˆ",
          signed_in: "ã‚µã‚¤ãƒ³ã‚¤ãƒ³æ¸ˆã¿",
          not_signed_in: "æœªã‚µã‚¤ãƒ³ã‚¤ãƒ³",
          nav_status_points: "{name} Â· {points} pt",
          light_mode: "â˜€ï¸ ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰",
          dark_mode: "ğŸŒ™ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰",
          footer_title: "SEAMUN I ä¼šè­°",
          footer_tagline: "ç›®çš„ã‚ã‚‹æ”¿ç­–",
          footer_org: "SEAMUN | æ±å—ã‚¢ã‚¸ã‚¢æ¨¡æ“¬å›½é€£",
        },
        es: {
          language_label: "Idioma",
          theme_label: "Tema",
          nav_home: "ğŸ›ï¸ Inicio",
          nav_committees: "ğŸ§¾ ComitÃ©s",
          nav_more: "â˜° MÃ¡s",
          nav_forms: "ğŸ“ Formularios",
          nav_awards: "ğŸ† Premios",
          nav_schedule: "ğŸ—“ï¸ Agenda",
          nav_signin: "ğŸ” Iniciar sesiÃ³n",
          nav_profile: "ğŸ‘¤ Perfil",
          nav_contact: "ğŸ“¬ Contacto",
          nav_signed_out: "SesiÃ³n cerrada",
          profile_title: "ğŸ‘¤ Perfil",
          profile_subtitle: "Ver los detalles de tu cuenta.",
          button_sign_out: "Cerrar sesiÃ³n",
          label_first_name: "Nombre",
          label_pronouns: "Pronombres",
          label_school: "Escuela",
          label_email: "Correo",
          label_user_id: "ID de usuario",
          label_points: "Puntos",
          signed_in: "SesiÃ³n iniciada",
          not_signed_in: "No has iniciado sesiÃ³n.",
          nav_status_points: "{name} Â· {points} pts",
          light_mode: "â˜€ï¸ Modo claro",
          dark_mode: "ğŸŒ™ Modo oscuro",
          footer_title: "Conferencia SEAMUN I",
          footer_tagline: "PolÃ­ticas con un propÃ³sito",
          footer_org: "SEAMUN | Modelo de Naciones Unidas del Sudeste AsiÃ¡tico",
        },
        fr: {
          language_label: "Langue",
          theme_label: "ThÃ¨me",
          nav_home: "ğŸ›ï¸ Accueil",
          nav_committees: "ğŸ§¾ ComitÃ©s",
          nav_more: "â˜° Plus",
          nav_forms: "ğŸ“ Formulaires",
          nav_awards: "ğŸ† RÃ©compenses",
          nav_schedule: "ğŸ—“ï¸ Programme",
          nav_signin: "ğŸ” Se connecter",
          nav_profile: "ğŸ‘¤ Profil",
          nav_contact: "ğŸ“¬ Contact",
          nav_signed_out: "DÃ©connectÃ©",
          profile_title: "ğŸ‘¤ Profil",
          profile_subtitle: "Voir les dÃ©tails de votre compte.",
          button_sign_out: "Se dÃ©connecter",
          label_first_name: "PrÃ©nom",
          label_pronouns: "Pronoms",
          label_school: "Ã‰cole",
          label_email: "E-mail",
          label_user_id: "ID utilisateur",
          label_points: "Points",
          signed_in: "ConnectÃ©",
          not_signed_in: "Non connectÃ©.",
          nav_status_points: "{name} Â· {points} pts",
          light_mode: "â˜€ï¸ Mode clair",
          dark_mode: "ğŸŒ™ Mode sombre",
          footer_title: "ConfÃ©rence SEAMUN I",
          footer_tagline: "Des politiques qui ont du sens",
          footer_org: "SEAMUN | ModÃ¨le des Nations Unies dâ€™Asie du Sud-Est",
        },
        ru: {
          language_label: "Ğ¯Ğ·Ñ‹Ğº",
          theme_label: "Ğ¢ĞµĞ¼Ğ°",
          nav_home: "ğŸ›ï¸ Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ",
          nav_committees: "ğŸ§¾ ĞšĞ¾Ğ¼Ğ¸Ñ‚ĞµÑ‚Ñ‹",
          nav_more: "â˜° ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ",
          nav_forms: "ğŸ“ Ğ¤Ğ¾Ñ€Ğ¼Ñ‹",
          nav_awards: "ğŸ† ĞĞ°Ğ³Ñ€Ğ°Ğ´Ñ‹",
          nav_schedule: "ğŸ—“ï¸ Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ",
          nav_signin: "ğŸ” Ğ’Ğ¾Ğ¹Ñ‚Ğ¸",
          nav_profile: "ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ",
          nav_contact: "ğŸ“¬ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹",
          nav_signed_out: "Ğ’Ñ‹ÑˆĞ»Ğ¸",
          profile_title: "ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ",
          profile_subtitle: "ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ ÑĞ²ĞµĞ´ĞµĞ½Ğ¸Ğ¹ ÑƒÑ‡ĞµÑ‚Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸.",
          button_sign_out: "Ğ’Ñ‹Ğ¹Ñ‚Ğ¸",
          label_first_name: "Ğ˜Ğ¼Ñ",
          label_pronouns: "ĞœĞµÑÑ‚Ğ¾Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ",
          label_school: "Ğ¨ĞºĞ¾Ğ»Ğ°",
          label_email: "Ğ­Ğ». Ğ¿Ğ¾Ñ‡Ñ‚Ğ°",
          label_user_id: "ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ",
          label_points: "ĞÑ‡ĞºĞ¸",
          signed_in: "Ğ’Ğ¾ÑˆĞ»Ğ¸",
          not_signed_in: "ĞĞµ Ğ²Ğ¾ÑˆĞ»Ğ¸.",
          nav_status_points: "{name} Â· {points} Ğ¾Ñ‡Ğº.",
          light_mode: "â˜€ï¸ Ğ¡Ğ²ĞµÑ‚Ğ»Ğ°Ñ Ñ‚ĞµĞ¼Ğ°",
          dark_mode: "ğŸŒ™ Ğ¢ĞµĞ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°",
          footer_title: "ĞšĞ¾Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ SEAMUN I",
          footer_tagline: "ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ñ Ñ†ĞµĞ»ÑŒÑ",
          footer_org: "SEAMUN | ĞœĞ¾Ğ´ĞµĞ»ÑŒ ĞĞĞ Ğ®Ğ³Ğ¾â€‘Ğ’Ğ¾ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ¹ ĞĞ·Ğ¸Ğ¸",
        },
        ko: {
          language_label: "ì–¸ì–´",
          theme_label: "í…Œë§ˆ",
          nav_home: "ğŸ›ï¸ í™ˆ",
          nav_committees: "ğŸ§¾ ìœ„ì›íšŒ",
          nav_more: "â˜° ë”ë³´ê¸°",
          nav_forms: "ğŸ“ ì–‘ì‹",
          nav_awards: "ğŸ† ì‹œìƒ",
          nav_schedule: "ğŸ—“ï¸ ì¼ì •",
          nav_signin: "ğŸ” ë¡œê·¸ì¸",
          nav_profile: "ğŸ‘¤ í”„ë¡œí•„",
          nav_contact: "ğŸ“¬ ì—°ë½ì²˜",
          nav_signed_out: "ë¡œê·¸ì•„ì›ƒë¨",
          profile_title: "ğŸ‘¤ í”„ë¡œí•„",
          profile_subtitle: "ë¡œê·¸ì¸í•œ ê³„ì • ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.",
          button_sign_out: "ë¡œê·¸ì•„ì›ƒ",
          label_first_name: "ì´ë¦„",
          label_pronouns: "ëŒ€ëª…ì‚¬",
          label_school: "í•™êµ",
          label_email: "ì´ë©”ì¼",
          label_user_id: "ì‚¬ìš©ì ID",
          label_points: "í¬ì¸íŠ¸",
          signed_in: "ë¡œê·¸ì¸ë¨",
          not_signed_in: "ë¡œê·¸ì¸ë˜ì§€ ì•ŠìŒ.",
          nav_status_points: "{name} Â· {points} pt",
          light_mode: "â˜€ï¸ ë¼ì´íŠ¸ ëª¨ë“œ",
          dark_mode: "ğŸŒ™ ë‹¤í¬ ëª¨ë“œ",
          footer_title: "SEAMUN I ì»¨í¼ëŸ°ìŠ¤",
          footer_tagline: "ëª©ì  ìˆëŠ” ì •ì±…",
          footer_org: "SEAMUN | ë™ë‚¨ì•„ì‹œì•„ ëª¨ì˜ìœ ì—”",
        },
      };

      let currentLang = localStorage.getItem("seamun-lang") || "en";
      const t = (key, vars = {}) => {
        const table = translations[currentLang] || translations.en;
        let text = table[key] || translations.en[key] || key;
        Object.entries(vars).forEach(([token, value]) => {
          text = text.replaceAll(`{${token}}`, String(value));
        });
        return text;
      };

      const applyLanguage = (lang) => {
        currentLang = translations[lang] ? lang : "en";
        document.documentElement.lang = currentLang;
        localStorage.setItem("seamun-lang", currentLang);
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.dataset.i18n;
          const value = t(key);
          if (value) {
            el.textContent = value;
          }
        });
      };

      if (languageSelect) {
        languageSelect.value = currentLang;
        languageSelect.addEventListener("change", (event) => {
          applyLanguage(event.target.value);
          setDarkMode(document.body.classList.contains("dark"));
          if (auth.currentUser) {
            const nameLabel =
              profileFirstName.textContent !== "-" ? profileFirstName.textContent : auth.currentUser.email || "-";
            navStatus.textContent = t("nav_status_points", {
              name: nameLabel,
              points: profilePoints.textContent || 0,
            });
            profileStatus.textContent = nameLabel;
          } else {
            navStatus.textContent = t("nav_signed_out");
            profileStatus.textContent = t("not_signed_in");
          }
        });
      }

      const navStatus = document.getElementById("nav-auth-status");
      const profileStatus = document.getElementById("profile-status");
      const profileFirstName = document.getElementById("profile-first-name");
      const profilePronouns = document.getElementById("profile-pronouns");
      const profileSchool = document.getElementById("profile-school");
      const profileEmail = document.getElementById("profile-email");
      const profileUid = document.getElementById("profile-uid");
      const profilePoints = document.getElementById("profile-points");
      const signOutButton = document.getElementById("profile-signout");

      let unsubscribeUser = null;

      onAuthStateChanged(auth, (user) => {
        if (user) {
          navStatus.textContent = t("signed_in");
          profileStatus.textContent = t("signed_in");
          profileEmail.textContent = user.email || "-";
          profileUid.textContent = user.uid || "-";
          signOutButton.disabled = false;
          if (unsubscribeUser) {
            unsubscribeUser();
          }
          const userRef = doc(db, "users", user.uid);
          unsubscribeUser = onSnapshot(userRef, (snap) => {
            const data = snap.data() || {};
            profilePoints.textContent = String(data.points || 0);
            const fallbackName = (user.displayName || "").split(" ")[0] || "-";
            profileFirstName.textContent = data.firstName || fallbackName;
            profilePronouns.textContent = data.pronouns || "-";
            profileSchool.textContent = data.school || "-";
            const nameLabel = data.firstName || fallbackName || user.email;
            navStatus.textContent = t("nav_status_points", {
              name: nameLabel,
              points: data.points || 0,
            });
            profileStatus.textContent = nameLabel;
          });
        } else {
          navStatus.textContent = t("nav_signed_out");
          profileStatus.textContent = t("not_signed_in");
          profileFirstName.textContent = "-";
          profilePronouns.textContent = "-";
          profileSchool.textContent = "-";
          profileEmail.textContent = "-";
          profileUid.textContent = "-";
          profilePoints.textContent = "0";
          signOutButton.disabled = true;
          if (unsubscribeUser) {
            unsubscribeUser();
            unsubscribeUser = null;
          }
        }
      });

      signOutButton.addEventListener("click", async () => {
        await signOut(auth);
      });

      const body = document.body;
      const themeButtons = document.querySelectorAll("[data-theme]");
      const themeToggle = document.querySelector("[data-theme-toggle]");

      const setTheme = (theme) => {
        body.dataset.theme = theme;
        localStorage.setItem("seamun-theme", theme);
      };

      const setDarkMode = (enabled) => {
        body.classList.toggle("dark", enabled);
        localStorage.setItem("seamun-dark", enabled ? "1" : "0");
        themeToggle.textContent = enabled ? t("light_mode") : t("dark_mode");
      };

      themeButtons.forEach((button) => {
        button.addEventListener("click", () => setTheme(button.dataset.theme));
      });

      themeToggle.addEventListener("click", () => {
        setDarkMode(!body.classList.contains("dark"));
      });

      const savedTheme = localStorage.getItem("seamun-theme") || "blue";
      const savedDark = localStorage.getItem("seamun-dark") === "1";
      setTheme(savedTheme);
      setDarkMode(savedDark);
      applyLanguage(currentLang);
    </script>
  </body>
</html>
